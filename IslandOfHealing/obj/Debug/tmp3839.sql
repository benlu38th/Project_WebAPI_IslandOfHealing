CREATE TABLE [dbo].[ArticleComments] (
    [Id] [int] NOT NULL IDENTITY,
    [Comment] [nvarchar](200) NOT NULL,
    [InitDate] [datetime] NOT NULL,
    [UserId] [int] NOT NULL,
    [ArticleId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ArticleComments] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ArticleId] ON [dbo].[ArticleComments]([ArticleId])
CREATE TABLE [dbo].[Articles] (
    [Id] [int] NOT NULL IDENTITY,
    [Title] [nvarchar](40),
    [Content] [nvarchar](max),
    [CoverUrl] [nvarchar](max),
    [Pay] [bit] NOT NULL,
    [ArticlesCategoryId] [int] NOT NULL,
    [Summary] [nvarchar](30),
    [Tags] [nvarchar](max),
    [Progress] [int] NOT NULL,
    [InitDate] [datetime] NOT NULL,
    [LikeNum] [int] NOT NULL,
    [CollectNum] [int] NOT NULL,
    [UserId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Articles] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ArticlesCategoryId] ON [dbo].[Articles]([ArticlesCategoryId])
CREATE INDEX [IX_UserId] ON [dbo].[Articles]([UserId])
CREATE TABLE [dbo].[ArticlesCategories] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](15) NOT NULL,
    [InitDate] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.ArticlesCategories] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Users] (
    [Id] [int] NOT NULL IDENTITY,
    [Account] [nvarchar](40) NOT NULL,
    [Password] [nvarchar](40) NOT NULL,
    [Salt] [nvarchar](max) NOT NULL,
    [NickName] [nvarchar](40),
    [ImgUrl] [nvarchar](max),
    [Role] [nvarchar](15) NOT NULL,
    [Birthday] [datetime],
    [MyPlan] [nvarchar](max) NOT NULL,
    [JobTitle] [nvarchar](15),
    [Bio] [nvarchar](max),
    [Guid] [nvarchar](max),
    [InitDate] [datetime] NOT NULL,
    [PasswordTime] [datetime],
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[CollectLikes] (
    [Id] [int] NOT NULL IDENTITY,
    [UserId] [int] NOT NULL,
    [ArticleId] [int] NOT NULL,
    [Like] [bit] NOT NULL,
    [Collect] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.CollectLikes] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ArticleId] ON [dbo].[CollectLikes]([ArticleId])
ALTER TABLE [dbo].[ArticleComments] ADD CONSTRAINT [FK_dbo.ArticleComments_dbo.Articles_ArticleId] FOREIGN KEY ([ArticleId]) REFERENCES [dbo].[Articles] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Articles] ADD CONSTRAINT [FK_dbo.Articles_dbo.ArticlesCategories_ArticlesCategoryId] FOREIGN KEY ([ArticlesCategoryId]) REFERENCES [dbo].[ArticlesCategories] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Articles] ADD CONSTRAINT [FK_dbo.Articles_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[CollectLikes] ADD CONSTRAINT [FK_dbo.CollectLikes_dbo.Articles_ArticleId] FOREIGN KEY ([ArticleId]) REFERENCES [dbo].[Articles] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202307080435545_UpdateCollectLike', N'IslandOfHealing.Migrations.Configuration',  0x1F8B0800000000000400ED5CCD8FE43815BF23F13F443901EAEDEA8F418256F5AE7A6AA6771BA63F34D5B3E2367227EEEA681CA7489CA64B88E34A0B121217C4110E1CE08010B79590D87F8619B8F12F60E7C3B113DB7152A94ACF6834D2A8CB653FDBEFFDDE87EDF7EA7FFFFC76FAD943889C7B182741848FDDFDDD3DD781D88BFC002F8EDD94DC7EF223F7B34FBFFB9DE9733F7C70BE2CFB1DB27E74244E8EDD3B4296479349E2DDC11024BB61E0C55112DD925D2F0A27C08F26077B7B3F9EECEF4F2025E1525A8E337D9962128430FB403FCE22ECC12549013A8F7C8892A29D7E33CFA83A172084C91278F0D83D4B10C0FEE5ED171020BAC8DD7C84EB9CA000D0D5CC21BA751D80714400A16B3D7A95C0398923BC982F690340D7AB25A4FD6E014A60B187A3AABBED76F60ED87626D5C092949726240A3B12DC3F2CF833A90FEFC56597F38F72F039E53459B15D675C3C764F62127808CEA2308498B84E7DCAA3198A59771DAB7765023B4EADDB0E87094513FBB7E3CC5244D2181E63989218A01DE72ABD4181F753B8BA8EDE407C8C5384C445D365D3EFA406DA7415474B1893D54B785B6CE5CC779D893C6E521FC88709638AED617278E03A177472708320C784C08A398962F839C4300604FA57801018634603665C6DCC5E9B8BF3389F90E290F2C775CEC1C30B8817E4EED8A552739DD3E001FA654BB1885738A05A48079138858A459A273EC3017946975CCECCFEBEA60AD79910D59EB89D63661A055E3A93B900F7C12293438DE0F9AA20E93A2F21CA7A2477C13257FE129EAF6598520B711A47E1CB08552BAA77797D0DE20564E28ACCFDE6511A7BB5054F2795A6D9E85F7FC5FBA871FAB9AE0382A041DF9ED8A95B9B5A6362566BFAE720F350C7FC2A461B9FE80AACCA399E4614F900F755F26446C5B688E2D5BA46639E8621885786AD1F0E21CA6BB04836CFDE385AC430A9266266AA6A1CCBB6BF08DEC08B345C4F4EB30821E891B5E9F472345A0FD1B0FDC3FA89D2FEB7F989D29F74766C5C8D4C2BE79DCA79556B6F76D27939454F959F33AF9F8951B966F685729DD2178DB5C9DF0EE17705D6F675C09CC4474FAC9F8BFD6FB0ACFB3F7C5C716F9B2931DA90BE9AA8B123069DED85FC5C293BA39D0DFB8870FD5C279E17A5C630D032DAEC08F22B9024BF88627FEB13CF011A22E8ED38EB45E0BD6931268344F567E1621BB136D3F4ADDBC5A7414CEEFC2ACAAFECA279DCF9EA0AB1C3C0B665FE93E8A6ED2467C9A836BE441B17F8E7696052D5612619EC50501A977C700B5AFA394DCB50B0EE1CD581622F87581C5AD801A8875F14467F748FFAB9C6BC3A549C74D7BDE028A4DE994CCF5B4C0164AF859E95B2283B349446DDAB9BF2A4A1A03AD5B5C559728AC0A27A4AE9AC4725A9C194889A4C1FC6684549886891E5710EC31B1817BBF9EF6F7FFD9FBF7CEB3A5F0294D28F7B0DE949BDDFFEEBABB77FFFEBBB3F7DC307ECB70CC87AFFFB9BBFF101073603DEFEF91FEF7EFF073EE6D066CCBBAF7FF7F6377FE4639E34859B8B516C3C4992C80B3261C9FAD6B81391A77F8E7DC7F282A4BAEFE2103EA7A20C965478146C8C83754B77899F410409744EBCFC016D06120FF84DCDA27BF2BB2E8CDF2F3416C6DF6AE4F5FDA0312DB5C030662610A01955590AC70093A6B90EB0172C01B263546DB8A5BD673CE013D5BF7906971033536DC7119B1508D6B8B9103E5F4D486DEC9A4E04185AA15371DA6E8181E9E8DD00827041B44DA89A2EEA5AB5685894EAD9B53D9CEAD9D101A9D26BC4289095635D1D0434816F25F6FC06672B70D4DCC76E0B824A566C0176CA6DDBCC5B86B9A3C04B1D25EA44DB1232562296CE476D626EA36F0FA14111DD0B7DC61D6C018546093D3E179D9F18D873381DC103D2EC79FC4195594475A5381424C5B5461D4A8CDE1C12DD335E7544D1046F0D6C2A091A285993285C4B60222684122D5499155111CA0D7FCB6001352A1A9236D74809826D6CB1F9322AF46E7944AD63CFFEC8C037274AAB8165FB48BF49AFDA4FDD88C8DCB0E794EAFD47CBABB6F0B56300ABE09708CD76CE19024F0B59F4605AEDFEAFC92843D0641136098B2EB4CAC00375B4B3997D6BAE749AFBB7F0EA1DFCBAB019D95018D862F6E4EBB1A7BC68E26E837F379DE4E9BE45C374A2C90B9E9E83E532C00B214FB86871E67992F0EC9379F7CCD930A731F11245022D5F2D9F89443158C0DAB78C753E3C0DE2845DC7831BC06EC6667EA8E8963B498D652F6751FBC1A6E04A935F8E637F1711894D12AF22B628289DD24DB21ED97EA1D6983609382C791B20102BAEA029BCD210EB2326FD68EEE845121AEF6F5C057F2F91D6C25BED2995F1BF48477726D05311E2369190219C63FA51935123E06BE0A21134CB70EB02C62151D81F7EDBC25DF11A2912289ABA60B7481B95B15B3476A153A685CA84CA567B4A59DEA748246BE88C5AE99A45015FE3358C9E3A4F011549F2C60EB2CB723C25D1652D1DF8C41F3D2466F1D631EC0ECFDE1409F1C62E68AA1238653C55ED9BB286235B30214E1ECE965567BEDE46CD406233D62D4FAF11C7E72D9BC4F548B2CF8F0403883B3B997717B17AD866C4CA13D4249B5C3676711365C299EC2BCAD60E263DCB2093EC79D6D201AA3C1B4C822B6FED00D922DF4BE26FD1664F254FE71269E42DF614AADC2C914AD56A4FA9CCD612E9946DF654AADC2B914ED5DA6567517D535197F179E69448206F19C3DDCA79512A3D50654865F4C63174D2597F007B27DE2276377BC6D19BB17EE31DCC4C215B335EEB11AC2923B5AD63AF719153EFC267E7173AB58B9B697189D25EF5DDB855C9BBB80E65D07DE0B31B95F92A2130DC651D76E73F47331464E7AAB2C339C0C12D4C489E2FE41EECED1FD48AC61F4F01F724497CA4B884D25771CB52DB42FE60C078DB9A21D839C74EAA97C6F720F6EE40DCAC985EB32CC4A77F93F5CBA1331EAC9BD118286BF0CFB00F1F8EDD5F66A38E9CB39FBDE603779CCB98E2F9C8D9737ED5327DE79AE40F034652EAB812444F240CF5A8F92DA97E2F040FDFEF4E4BAEEB5D8B9850BB7B13F4C6A3A26EB72330050A1D10DA5C50ADF05729BEC3CEE213EB7CD76377AD96B78F0D18CC1CD52A78FBACA559BFDB878AC22E5A20271FB5417BA6B948796F0D5B7EC43528062B8AD90E18BB151F7E18ECAF15FC5978965EF57C43D115CBF5B436AF5709DE403E55AEB85BCB2C8B5575436946BD684EA519366B938BE8D69344BD30CE62AF1DEBE0D6128358EBB616A1C15CA4AA9ECD4E90BDAAC93E0C43F79E1D73D481D13A5171ADD8AB9D840E2C8395D88C5F4B53FF31B36DD7CE6CB1F8409F153376C6ED268A621E5111CC88B52E5B84D7875AC23256C9CAF6C1A379FC1D1530EF5121CAF83E4DCA89EF5BF9F2D8BD99F9C96E6C57A62B1EA9A7CFD645682A11B1A810C91F8EE821E0861D79F280AEAD304033A9A98AC4308D357DC1095B54989866D45704282B51B48528AA399449F6A61A95B61215D524A6CCF5F18A5854A9F036251735B4AAF2A9DFC3DA14532D8A228FA51F3BC7AE3769D4978CB8B18D1594F485B742C91BD91F1B291469E61150C724FCC63C758D49B0A848B05F9CC7D0935C12EF73866FA3D239D6565476A9DFF041027CEAAF188F6E8147E8D71E4C92ECA79E8A1FE4781EDE40FF0C5FA6649912BA6518DE204929988735CD9F55C3C86B9E5E2EB35F8D19620B749901BB17BBC44FD300F97CDDA78ABB0E0D09E6BA8B4B28264BC22EA3162B4EE922C296840AF6F188E31A864B44892597780EEE619FB5514D7D0117C05B95E9207A22ED8290D93E7D1680450CC2A4A0518DA71F2986FDF0E1D3FF03DF627AFE6A610000 , N'6.1.3-40302')

